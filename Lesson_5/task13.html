<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Задача №13</title>
  </head>

  <body>
    <h1>
      13. Морський бій. Комп’ютер випадково розташовує одиночний корабель на
      полі розміром N*M. Маючи К снарядів користувач намагається потопити
      корабель.
    </h1>
    <script>
      // Ввод данных
      let heightField = parseInt(prompt("Введите значение высоты поля", 1));
      let widthField = parseInt(prompt("Введите значение ширины поля", 1));
      let countOfBullets = parseInt(prompt("Сколько у Вас снарядов?", 10));
      // Формирование поля
      let shipVertical = Math.floor(Math.random() * heightField) + 1;
      let shipHorizontal = Math.floor(Math.random() * widthField) + 1;
      // Первый выстрел
      let userVerticalBang = parseInt(
        prompt(
          `Введите в какую клетку по высоте от 1 до ${heightField} вы хотите стрельнуть`,
          1
        )
      );
      let userHorizontalBang = parseInt(
        prompt(
          `Введите в какую клетку по ширине от 1 до ${widthField} вы хотите стрельнуть`,
          1
        )
      );

      // Если игрок не попал - идем в цикл

      if (
        shipVertical !== userVerticalBang &&
        shipHorizontal !== userHorizontalBang
      ) {
        do {
          userVerticalBang = parseInt(
            prompt(
              `К сожалению, Вы не попали. Введите в какую клетку по высоте от 1 до ${heightField} вы хотите стрельнуть`,
              1
            )
          );
          userHorizontalBang = parseInt(
            prompt(
              `К сожалению, Вы не попали. Введите в какую клетку по ширине от 1 до ${widthField} вы хотите стрельнуть`,
              1
            )
          );
          // Отнимаем значение снарядов
          countOfBullets--;
          if (countOfBullets == 0) break;
        } while (
          shipVertical !== userVerticalBang &&
          shipHorizontal !== userHorizontalBang
        );

        // После цикла проверяем, если игрок попал - победа, если закончились снаряды - поражение

        if (
          shipVertical !== userVerticalBang &&
          shipHorizontal !== userHorizontalBang
        )
          document.write(
            "К сожалению, у Вас закончились снаряды и Вы не смогли потопить корабль"
          );
        else document.write("Поздравляем! Вы потопили корабль!");
      } else document.write("Поздравляем! Вы потопили корабль!");
    </script>
  </body>
</html>
